<!doctype html>
<html lang="en">

    <head>
        {% block head %}
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <!--<link rel="icon" href="http://getbootstrap.com/favicon.ico">-->

        <title>{% block title %}{% endblock %} - Gestor global</title>

        <!-- Bootstrap core CSS -->
        <link href="http://getbootstrap.com/docs/4.1/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="http://getbootstrap.com/docs/4.1/examples/dashboard/dashboard.css" rel="stylesheet"> 
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

        <link rel="stylesheet" href="{{url_for('static', filename='css/global.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='css/images.css')}}">

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
        <!-- <script src="http://getbootstrap.com/docs/4.1/assets/js/vendor/popper.min.js"></script> -->
        {% endblock %}
    </head>

    <body>
        <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">Container Manager</a>
            <!-- <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">
                <ul class="navbar-nav px-3">
                <li class="nav-item text-nowrap">
                <a class="nav-link" href="#">Sign out</a>
                </li>
                </ul> -->
        </nav>

        <div class="container-fluid content">
            <div class="row content">
                <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                    <div class="sidebar-sticky d-flex flex-column justify-content-between">
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link active" href="/home">
                                    <span data-feather="home"></span>Control Panel
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <!--<li class="nav-item">
                                <a class="nav-link" href="/silo">
                                <span data-feather="file"></span>
                                Silo
                                </a>
                                </li>
                                <li class="nav-item">
                                <a class="nav-link" href="/unidades">
                                <span data-feather="shopping-cart"></span>
                                Unidades de construcci√≥n
                                </a>
                                </li>
                                <li class="nav-item">
                                <a class="nav-link" href="/subservicios">
                                <span data-feather="users"></span>
                                Subservicios virtuales
                                </a>
                                </li>-->
                                <li class="nav-item">
                                    <a id="itemContainers" class="nav-link" href="#" onclick="document.querySelector('.containers-item-submenu').classList.toggle('d-none')"><span data-feather="package"></span>
                                        Containers</a>
                                    <div class="containers-item-submenu d-none">
                                        <ul>
                                            <li class="mb-1"><a href="/containers"><span class="mx-1" data-feather="list"></span>List</a></li>
                                            <li class="mb-1"><a href="/containers/details"><span class="mx-1" data-feather="info"></span>Details</a></li>
                                            <li class="mb-1"><a href="/containers/creation"><span class="mx-1" data-feather="tool"></span>Creation tool</a></li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="nav-item">
                                    <a id="itemImages" class="nav-link" href="#" onclick="document.querySelector('.images-item-submenu').classList.toggle('d-none')"><span data-feather="image"></span>Images</a>
                                    <div class="images-item-submenu d-none">
                                        <ul>
                                            <li class="mb-1"><a href="/images"><span class="mx-1" data-feather="list"></span>List</a></li>
                                            <li class="mb-1"><a href="/images/details"><span class="mx-1" data-feather="info"></span>Details</a></li>
                                            <li class="mb-1"><a href="/images/builder"><span class="mx-1" data-feather="tool"></span>Build tool</a></li>
                                        </ul>
                                    </div>
                                </li>
                                <!--<li class="nav-item">
                                    <a class="nav-link" href="#">
                                    <span data-feather="bar-chart-2"></span>
                                    Reports
                                    </a>
                                    </li>
                                    <li class="nav-item">
                                    <a class="nav-link" href="#">
                                    <span data-feather="layers"></span>
                                    Integrations
                                    </a>
                                    </li> -->
                        </ul>
                        <div class="d-flex justify-content-center">
                            <button onclick="logout()" class="btn btn-danger w-100 h-100" style="border-radius: 0;"><span class="mximage-2" data-feather="log-out"></span>Log out</button>
                        </div>

                        <!--<h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                            <span>Saved reports</span>
                            <a class="d-flex align-items-center text-muted" href="#">
                            <span data-feather="plus-circle"></span>
                            </a>
                            </h6>-->
                            <!--<ul class="nav flex-column mb-2">
                                <li class="nav-item">
                                <a class="nav-link" href="#">
                                <span data-feather="file-text"></span>
                                Current month
                                </a>
                                </li>
                                <li class="nav-item">
                                <a class="nav-link" href="#">
                                <span data-feather="file-text"></span>
                                Last quarter
                                </a>
                                </li>
                                <li class="nav-item">
                                <a class="nav-link" href="#">
                                <span data-feather="file-text"></span>
                                Social engagement
                                </a>
                                </li>
                                <li class="nav-item">
                                <a class="nav-link" href="#">
                                <span data-feather="file-text"></span>
                                Year-end sale
                                </a>
                                </li>
                                </ul> -->
                    </div>
                </nav>
                {% block content %}{% endblock %} 
                {% block footer %}
                <!-- GLOBAL MODAL FOR CONFIRMATIONS --> 
                <div class="modal fade" id="modalConfirm" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-dark text-white">
                                <h5 class="modal-title">Confirm action</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div id="modalConfirmBody" class="modal-body">
                            </div>
                            <div class="modal-footer">
                                <button id="btnConfirm" class="btn btn-sm btn-primary">Confirm</button>
                                <button id="btnCancel" class="btn btn-sm btn-secondary">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Bootstrap core JavaScript
                    ================================================== -->
                    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>

                    <!-- Icons -->
                    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
                    <script>
                        feather.replace()
                    </script>

                    <!-- Custom JS Files -->
                    <script src="{{url_for('static', filename='js/utils.js')}}"></script>

                    <script>
                        // check if the invalidity popup should show after the
                        // content of an input changed
                        $('input[type=text]:not([readonly])').on('change', (e) => {
                            console.log('changed: ', e);
                            let id = e.target.id;
                            if(!document.getElementById(id).checkValidity()) {
                                document.getElementById(id).setCustomValidity(fieldsMessages[id]);
                                document.getElementById(id).reportValidity();
                            }
                        });
function logout() {
    let reqObj = {
        'type': 'GET',
        'url': `http://localhost:8000/logout`,
        'isAsync': false,
        'params': null
    };
    sendRequest(reqObj, 
        (response) => { 
            console.log('successfully logged out!');
            window.location.href = '/';
        },
        (error) => {
            console.log('failed to logout: ', error);
            showAlert('Failed to logout...', 'danger')
        });
}
                    </script>
                    <!-- Graphs
                        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.0.0/Chart.min.js" 
                            integrity="sha512-oPvxMUC37WigeVCeZVcU9IoRJjR3xg5/XQaautxFc0rCWJZgQ625mTEPz2nfp7/papNkImutg4thPHf6ok/Fwg==" crossorigin="anonymous">
                        </script> -->
                        <script>
                            //  var ctx = document.getElementById("myChart");
                            //  var myChart = new Chart(ctx, {
                            //      type: 'line',
                            //      data: {
                            //          labels: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                            //          datasets: [{
                            //              data: [15339, 21345, 18483, 24003, 23489, 24092, 12034],
                            //              lineTension: 0,
                            //              backgroundColor: 'transparent',
                            //              borderColor: '#007bff',
                            //              borderWidth: 4,
                            //              pointBackgroundColor: '#007bff'
                            //          }]
                            //      },
                            //      options: {
                            //          scales: {
                            //              yAxes: [{
                            //                  ticks: {
                            //                      beginAtZero: false
                            //                  }
                            //              }]
                            //          },
                            //          legend: {
                            //              display: false,
                            //          }
                            //      }
                            //  });
                        </script> 
                        {% endblock %} 
    </body>

</html>
